# #------Dashboard Setup for Kibana------#

# # setup.dashboards.enabled: true

# # setup.kibana:
# #   host: https://localhost:8000/iris

# #------Filebeat Input------#

# # filebeat.inputs:
# # - type: filestream
# #   id: nginx-logs
# #   enabled: true
# #   paths:
# #     - /var/log/nginx/access.log

# filebeat.config:
#   modules:
#     path: ${path.config}/modules.d/*.yml
#     reload.enabled: false


# filebeat.inputs:
#   - type: container
#     paths:
#       - '/var/lib/docker/containers/*/*.log'
# # - type: filestream
# #   id: nginx_filestream
# #   paths:
# #     - /var/log/nginx/*.log

# # filebeat.autodiscover:
# #   providers:
# #     - type: docker
# #       hints.enabled: true
# #       templates:
# #         - condition:
# #             contains:
# #               docker.container.image: swap
# #           config:
# #             - module: nginx
# #               access:
# #                 enabled: true
# #                 var.paths: [ "/var/log/nginx/access.log*" ]
# #               error:
# #                 enabled: true
# #                 var.paths: [ "/var/log/nginx/error.log*" ]

# processors:
# # - add_cloud_metadata: ~
# - add_docker_metadata: ~

# - decode_json_fields:
#     fields: ["message"]
#     target: "json"
#     overwrite_keys: true

# #------Logstash Output------#

# setup.kibana:
#   host: "https://localhost:8000/iris/"
#   username: "elastic"
#   password: "elastic123"

# logging.json: true
# logging.metrics.enabled: false

# filebeat.inputs:
# - type: filestream
#  id: default-filestream
#  paths:
#    - ingest_data/*.log


# filebeat.autodiscover:
#  providers:
#    - type: docker
#      hints.enabled: true

# ----------------------------------------------------

filebeat.inputs:
- type: filestream
 id: default-filestream
 paths:
   - ingest_data/*.log


filebeat.autodiscover:
 providers:
   - type: docker
     hints.enabled: true


processors:
- add_docker_metadata: ~


setup.kibana:
 host: ${KIBANA_HOSTS}
 username: ${ELASTIC_USER}
 password: ${ELASTIC_PASSWORD}


output.elasticsearch:
 hosts: ${ELASTIC_HOSTS}
 username: ${ELASTIC_USER}
 password: ${ELASTIC_PASSWORD}
 ssl.enabled: true
 ssl.certificate_authorities: "certificates/ca/ca.crt"

 # output.logstash:
#    hosts: ["aether:5400"]